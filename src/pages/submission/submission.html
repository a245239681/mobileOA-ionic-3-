<!--
  Generated template for the SubmissionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>拟办意见</ion-title>
    <ion-buttons slot="end">
      <ion-buttons (click)="handleAdvice(0,adviceForm.value)">保存</ion-buttons>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="adviceForm">
    <div class="login-form">
      <div style="border: solid 1px #999999;padding: 5px; border-radius: 3px;">
        <ion-textarea rows="12" cols="20" placeholder="请输入您的意见" [(ngModel)]="CurAttitude" formControlName="advice">
        </ion-textarea>
      </div>
      <div *ngIf="base64" style="border: solid 1px #f4f4f4;padding: 5px; border-radius: 3px;">
        <img [(src)]="base64">
      </div>
      <!-- <ion-grid>
          <ion-row>
            <ion-col size="6" size-lg>
              <ion-button color="success" class="ion-color ion-color-secondary button button-full button-solid ion-activatable ion-focusable hydrated"
                (click)="handleAdvice(1,adviceForm.value)" value="提交">{{handinButtonTitle}}</ion-button>
              <ion-button *ngIf="IsShowHandinAndGiveButton" ion-button color="danger" value="提交并分发文件" (click)="handinandgiveFile()">
                提交并分发文件
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid> -->
      <!-- <ion-grid *ngIf="showSign">
          <ion-row>
            <ion-col size="12" size-lg>
              <ion-button color="warning" class="ion-color ion-color-secondary button button-full button-solid ion-activatable ion-focusable hydrated"
                (click)="goSign()" value="签名">签名</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid> -->
      <ion-grid>
        <ion-row>
          <ion-col size="6" size-lg>
            <button ion-button (click)="handleAdvice(1,adviceForm.value)" value="提交">{{handinButtonTitle}}</button>
          </ion-col>
          <ion-col size="6" size-lg *ngIf="IsShowHandinAndGiveButton">
            <button ion-button color="danger" value="提交并分发文件" (click)="handinandgiveFile()">提交并分发文件</button>
          </ion-col>
          <ion-col size="6" size-lg>
            <button ion-button *ngIf="!IsOwner" color="secondary" (click)="handOver(adviceForm.value)"
              value="移交">移交</button>
          </ion-col>
          <ion-col size="6" size-lg *ngIf="IsOwner">
            <button ion-button color="secondary" (click)="ownerHandOver(adviceForm.value)"
              value="呈其他局领导">呈其他局领导</button>
          </ion-col>
          <ion-col size="6" size-lg>
            <button ion-button color="warning" (click)="sendBack(adviceForm.value)" value="退回">退回</button>
          </ion-col>
          <ion-col size="6" size-lg
            *ngIf="itemmodel.documenttype == 2 && (itemmodel.CurAction ==='部门审核' ||  itemmodel.CurAction ==='拟稿')">
            <button ion-button color="primary" value="会签" (click)="countersignModal()">会签</button>
          </ion-col>
        </ion-row>
        <!-- <ion-row>
            <ion-col size="6" size-lg *ngIf="itemmodel.documenttype == 2">
              <ion-button color="primary" value="会签" (click)="countersignModal()" 
              class="ion-color ion-color-secondary button button-full button-solid ion-activatable ion-focusable hydrated">会签</ion-button>
            </ion-col>
          </ion-row> -->
      </ion-grid>
      <div class="line" *ngIf="formErrors.advice"></div>
      <verification *ngIf="formErrors.advice" [text]="formErrors.advice"></verification>
    </div>
  </form>

  <ion-grid>
    <ion-row class="title-cy">
      <ion-col size="8" size-lg>
        <ion-title class="padding"> 常用语列表</ion-title>
      </ion-col>
      <ion-col size="4" size-lg>
        <!-- <ion-button color="primary" size="small" class="ion-color ion-color-secondary button button-full button-solid ion-activatable ion-focusable hydrated">
            编辑</ion-button> -->
      </ion-col>
    </ion-row>
  </ion-grid>


  <ion-list>
    <ion-item *ngFor="let item of oftenuseArr,let i = index" (click)="gettheoftenuse(i)">
      {{item['Text']}}
    </ion-item>
  </ion-list>
</ion-content>